<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.pollix.at/thymeleaf/shiro">
<head th:replace="admin/common/html/tableHead :: tableHead(~{::title},~{::link},~{::style})">

<title th:text=${title}></title>
<!-- 这儿引用单独的css link -->
<!-- Ladda for Bootstrap 3按钮加载进度插件 -->
<link rel="stylesheet" th:href="@{/static/admin/assets/js/button/ladda/ladda.min.css}">
<!-- bootstrap-table表单样式 -->
<link th:href="@{/static/admin/assets/js/bootstrap/css/bootstrap-table/bootstrap-table.min.css}" rel="stylesheet"/>

<!-- 用户界面自定义css -->
<link th:href="@{/static/admin/user/css/user-add.css}" rel="stylesheet"/>
<style type="text/css"></style>

</head>

<body>
      	   	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      	      
<div class="content-wrap">
	<div class="row">
		<div class="col-sm-12">
			<div class="nest" id="elementClose">
				<div class="">
				</div>
				<div class="body-nest" id="element">
					<div class="panel-body">
						<h1>调研信息登记</h1>
						<br>
						<h2>客户信息</h2>
						<form  class="form-horizontal m" id="form-edit" th:object="${ResearchInforTst}">
							<input id="id" name="id" type="hidden" th:field="*{id}"/>
								<div class="col-md-6">
<!--									<div class="form-group">-->
<!--										<label class="col-sm-3 control-label ">登记人员：</label>-->
<!--										<div class="col-sm-8">-->
<!--											<input class="form-control" type="text" id="registrar" name="registrar" th:value="*{registrar}"/>-->
<!--										</div>-->
<!--									</div>-->


									<div class="form-group">
										<label class="col-sm-3 control-label ">客户名称：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="customerName" name="customerName" th:value="*{customerName}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">记录说明：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="description" name="description" th:value="*{description}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">工艺车间：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="workshop" name="workshop" th:value="*{workshop}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">设计产能：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="designCapacity" name="designCapacity" th:value="*{designCapacity}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">设备资产原值：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="assetsOriginalValue" name="assetsOriginalValue" th:value="*{assetsOriginalValue}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">SOP时间：</label>
										<div class="col-sm-8">
											<input class="form-control MyDate" type="text" id="sOPTime" name="sOPTime" th:value="*{#dates.format(sOPTime,'yyyy-MM-dd HH:mm:ss')}"/>
										</div>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label class="col-sm-3 control-label ">总包(集成)商：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="generalContractorIntegrator" name="generalContractorIntegrator" th:value="*{generalContractorIntegrator}"/>
										</div>
									</div>



									<div class="form-group">
										<label class="col-sm-3 control-label ">设备开通率：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="openingRate" name="openingRate" th:value="*{openingRate}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">设备停机率：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="downtimeRate" name="downtimeRate" th:value="*{downtimeRate}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">需求及痛点简要：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="painPoints" name="painPoints" th:value="*{painPoints}"/>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-3 control-label ">物料覆盖率：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="materialCoverage" name="materialCoverage" th:value="*{materialCoverage}"/>
										</div>
									</div>



<!--									<div class="form-group">-->
<!--										<label class="col-sm-3 control-label ">调研分析结论：</label>-->
<!--										<div class="col-sm-8">-->
<!--											<input class="form-control" type="text" id="conclusion" name="conclusion" th:value="*{conclusion}"/>-->
<!--										</div>-->
<!--									</div>-->


									<div class="form-group">
										<label class="col-sm-3 control-label ">记录时间：</label>
										<div class="col-sm-8">
											<input class="form-control MyDate" type="text" id="createTime" name="createTime" th:value="*{#dates.format(createTime,'yyyy-MM-dd HH:mm:ss')}"/>
										</div>
									</div>
								</div>


<!--				xls-					-->
<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">资产清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="assetList" name="assetList" th:value="*{assetList}"/>-->
<!--								</div>-->
<!--							</div>-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">陪产计划(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="companionProductionPlan" name="companionProductionPlan" th:value="*{companionProductionPlan}"/>-->
<!--								</div>-->
<!--							</div>-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">TOP10设备清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="tOP10" name="tOP10" th:value="*{tOP10}"/>-->
<!--								</div>-->
<!--							</div>-->



<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">产线（含设备）新增、改造及报废计划(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="scrappageScheme" name="scrappageScheme" th:value="*{scrappageScheme}"/>-->
<!--								</div>-->
<!--							</div>-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">库存备件周转及消耗清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="turnoverConsumptionList" name="turnoverConsumptionList" th:value="*{turnoverConsumptionList}"/>-->
<!--								</div>-->
<!--							</div>-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">库存备件供货周期清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="supplyCycleList" name="supplyCycleList" th:value="*{supplyCycleList}"/>-->
<!--								</div>-->
<!--							</div>-->
<!--end-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">库存备件规格及品类清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="specificationCategoryList" name="specificationCategoryList" th:value="*{specificationCategoryList}"/>-->
<!--								</div>-->
<!--							</div>-->



<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">招标/寄售等框架协议覆盖率(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="frameworkAgreementCoverage" name="frameworkAgreementCoverage" th:value="*{frameworkAgreementCoverage}"/>-->
<!--								</div>-->
<!--							</div>-->


<!--							<div class="form-group">-->
<!--								<label class="col-sm-3 control-label ">比对结果清单(xls)：</label>-->
<!--								<div class="col-sm-8">-->
<!--									<input class="form-control" type="text" id="comparisonResult" name="comparisonResult" th:value="*{comparisonResult}"/>-->
<!--								</div>-->
<!--							</div>-->
			
<!--									<div class="form-group">
										<div class="form-control-static col-sm-offset-9">
											<button type="submit" class="btn btn-primary">提交</button>
											<button onclick="$.modal.close()" class="btn btn-danger" type="button">关闭</button>
										</div>
									</div>-->
						</form>

						<!--	file table-->
						<div class = "col-sm-12">
							<h2>物料覆盖率</h2>
							<div class="form-group">
								<div class="col-sm-8">
									<h3 id="sameMats"><span th:text="${ResearchInforTst.materialCoverage}"></span> %</h3>
<!--									<h3 th:text="${ResearchInforTst.materialCoverage}"></p>-->
<!--									chart-->
									<script language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
									<canvas id="chartjs-4" width="100" height="50"></canvas>
									<script>
										const st = parseInt(document.getElementById("sameMats").innerText);
										new Chart(document.getElementById("chartjs-4"),
												{
													"type": "pie",
													"data": {
														"labels": ["不同", "疑似", "相同"],
														"datasets": [{
															"label": "My First Dataset",
															"data": [10, 10, st],
															"backgroundColor": ["rgb(255, 99, 132)", "rgb(54, 162, 235)", "rgb(255, 205, 86)"]
														}]
													}
												});
									</script>
<!--									end-->
								</div>
							</div>
						</div>


						<div class="col-sm-12">
							<div class="nest" id="Blank_PageClose">

								<div class="body-nest" id="Blank_Page_Content">

									<h2>附件资料</h2>

									<!-- 工具条 -->
									<div class="btn-group hidden-xs" id="exampleTableEventsToolbar" role="group">
										<button onclick="$.operate.add()" type="button" class="btn btn-primary">
											<span class="entypo-plus-squared"></span>&nbsp;&nbsp;新增
										</button>
										<button onclick="$.operate.batRemove()" type="button" class="btn btn-info">
											<span class="entypo-trash"></span>&nbsp;&nbsp;删除
										</button>

									</div>
									<!-- 工具条 end-->
									<table id="dataTable" class="table-striped footable-res footable metro-blue" data-page-size="6">
									</table>
								</div>
							</div>
						</div>
						<div class = "col-sm-12">
							<h2>调研分析结论</h2>
							<div class="form-group">
								<div class="col-sm-8">
											<textarea class="textarea form-control" style="width: 100%; height: 300px;" th:text="${ResearchInforTst.conclusion}">
<!--										text rows="5" cols="150" -->
										</textarea>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- 通用js -->
<div th:include="admin/common/html/js :: onload_js">
   
</div>
<!-- bootstarp 表格 -->
<script th:src="@{/static/admin/assets/js/bootstrap/js/bootstrap-table/bootstrap-table.min.js}" type="text/javascript"></script>
<script th:src="@{/static/admin/assets/js/bootstrap/js/bootstrap-table/locale/bootstrap-table-zh-CN.min.js}" type="text/javascript"></script>
<script th:src="@{/static/admin/assets/js/bootstrap/js/base_list.js}" type="text/javascript"></script>
<!-- 导出 -->
<script th:src="@{/static/admin/assets/js/bootstrap/extensions/export/bootstrap-table-export.js}" type="text/javascript"></script>
<script th:src="@{/static/admin/assets/js/bootstrap/extensions/export/tableExport.js}" type="text/javascript"></script>

<!-- 弹窗 -->
<script th:src="@{/static/admin/assets/js/layer/layer.js}" type="text/javascript"></script>
<!-- 遮罩层 -->
<script th:src="@{/static/admin/assets/js/blockUI/jquery.blockUI.js}" type="text/javascript"></script>

<!--copy 自 file list-->
<script type="text/javascript">

	function queryId(id){
		var url=window.rootPath+"/FileController/viewfile/"+id;
		$.modal.open("查看",url );
	}

	<!-- 导出 -->
	var dataUrl=window.rootPath+"/FileController/list";
	var removeUrl=window.rootPath+"/FileController/remove";
	var createUrl=window.rootPath+"/FileController/add";
	var updateUrl=window.rootPath+"/FileController/edit/{id}";
	var exportUrl=window.rootPath+"/FileController/export";
	var options = {
		dataUrl: dataUrl,
		createUrl: createUrl,
		updateUrl: updateUrl,
		removeUrl:removeUrl,
		exportUrl: exportUrl,
		sortName: "fileSort",
		modalName: "文件",
		search: false,
		dataColumns: [
			{
				checkbox: true
			},
			{
				field: 'id',
				title: '序号'
			},

			{
				field: 'fileName',
				title: '文件名'
			},
			{
				field: 'createUserName',
				title: '创建人'
			},
			{
				field: 'createTime',
				title: '创建时间'
			},

			{
				title: '操作',
				formatter: function (value, row, index) {
					var id = row.id;
					var actions = [];
					actions.push('<a class="btn btn-info btn-xs"  href="#" onclick="queryId(\'' + row.id + '\')"><i class="fa fa-edit"></i>查看</a> ');
					actions.push('<a class="btn btn-success btn-xs"  href="#" onclick="$.operate.edit(\'' + row.id + '\')"><i class="fa fa-edit"></i>编辑</a> ');
					actions.push('<a class="btn btn-danger btn-xs" href="#" onclick="$.operate.remove(\'' + row.id + '\')"><i class="fa fa-remove"></i>删除</a>');
					return actions.join('');

					//return '<a class="btn btn-xs btn-danger" onclick="delPermission(' + "'" + id + "'" + ')"><i class="fa fa-remove"></i>删除</a>';
				}
			}]
	};
	$(function(){
		var oTab=$.table.oTableInit(options);
		oTab.Init();
	})
</script>
<!-- end-->

<!--<script type="text/javascript">-->
<!--$(function(){-->
<!--	 $(".MyDate").datetimepicker({-->
<!--		 	format: "yyyy-mm-dd hh:00:00",-->
<!--	        startDate: new Date(),--><!--	 $(".MyDate").datetimepicker({-->

<!--	        autoclose: true,-->
<!--	        todayBtn: true,-->
<!--	        language: 'zh-CN',-->
<!--	        initialDate:new Date(),-->
<!--	        minView: 1      -->
<!--	    });-->
<!--	-->
<!--})-->


<!--$("#form-edit").validate({-->
<!--	submitHandler : function(form) {-->
<!--		edit();-->
<!--	}-->
<!--});-->

<!--function edit() {-->
<!--	var dataFormJson = $("#form-edit").serialize();-->
<!--	$.ajax({-->
<!--		cache : true,-->
<!--		type : "POST",-->
<!--		url : rootPath + "/ResearchInforTstController/edit",-->
<!--		data : dataFormJson,-->
<!--		async : false,-->
<!--		error : function(request) {-->
<!--			$.modal.alertError("系统错误");-->
<!--		},-->
<!--		success : function(data) {-->
<!--			$.operate.saveSuccess(data);-->
<!--		}-->
<!--	});-->
<!--}-->
<!--</script>-->

</body>


</html>
